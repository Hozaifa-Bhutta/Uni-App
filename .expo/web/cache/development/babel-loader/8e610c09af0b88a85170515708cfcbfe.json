{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar fs = require(\"fs\");\n\nvar path = require(\"path\");\n\nvar rimraf = require(\"rimraf\");\n\nvar NULL_BYTE = 0x00;\nvar NULL_BYTE_BUFFER = Buffer.from([NULL_BYTE]);\n\nvar FileStore = function () {\n  function FileStore(options) {\n    _classCallCheck(this, FileStore);\n\n    this._root = options.root;\n\n    this._createDirs();\n  }\n\n  _createClass(FileStore, [{\n    key: \"get\",\n    value: function get(key) {\n      var data;\n      return _regeneratorRuntime.async(function get$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fs.promises.readFile(this._getFilePath(key)));\n\n            case 3:\n              data = _context.sent;\n\n              if (!(data[0] === NULL_BYTE)) {\n                _context.next = 6;\n                break;\n              }\n\n              return _context.abrupt(\"return\", data.slice(1));\n\n            case 6:\n              return _context.abrupt(\"return\", JSON.parse(data.toString(\"utf8\")));\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n\n              if (!(_context.t0.code === \"ENOENT\" || _context.t0 instanceof SyntaxError)) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\", null);\n\n            case 13:\n              throw _context.t0;\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[0, 9]], Promise);\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      var filePath;\n      return _regeneratorRuntime.async(function set$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              filePath = this._getFilePath(key);\n              _context2.prev = 1;\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(this._set(filePath, value));\n\n            case 4:\n              _context2.next = 15;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](1);\n\n              if (!(_context2.t0.code === \"ENOENT\")) {\n                _context2.next = 14;\n                break;\n              }\n\n              fs.mkdirSync(path.dirname(filePath), {\n                recursive: true\n              });\n              _context2.next = 12;\n              return _regeneratorRuntime.awrap(this._set(filePath, value));\n\n            case 12:\n              _context2.next = 15;\n              break;\n\n            case 14:\n              throw _context2.t0;\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, [[1, 6]], Promise);\n    }\n  }, {\n    key: \"_set\",\n    value: function _set(filePath, value) {\n      var content, _JSON$stringify;\n\n      return _regeneratorRuntime.async(function _set$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (value instanceof Buffer) {\n                content = Buffer.concat([NULL_BYTE_BUFFER, value]);\n              } else {\n                content = (_JSON$stringify = JSON.stringify(value)) !== null && _JSON$stringify !== void 0 ? _JSON$stringify : JSON.stringify(null);\n              }\n\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(fs.promises.writeFile(filePath, content));\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._removeDirs();\n\n      this._createDirs();\n    }\n  }, {\n    key: \"_getFilePath\",\n    value: function _getFilePath(key) {\n      return path.join(this._root, key.slice(0, 1).toString(\"hex\"), key.slice(1).toString(\"hex\"));\n    }\n  }, {\n    key: \"_createDirs\",\n    value: function _createDirs() {\n      for (var i = 0; i < 256; i++) {\n        fs.mkdirSync(path.join(this._root, (\"0\" + i.toString(16)).slice(-2)), {\n          recursive: true\n        });\n      }\n    }\n  }, {\n    key: \"_removeDirs\",\n    value: function _removeDirs() {\n      for (var i = 0; i < 256; i++) {\n        rimraf.sync(path.join(this._root, (\"0\" + i.toString(16)).slice(-2)));\n      }\n    }\n  }]);\n\n  return FileStore;\n}();\n\nmodule.exports = FileStore;","map":{"version":3,"names":["fs","require","path","rimraf","NULL_BYTE","NULL_BYTE_BUFFER","Buffer","from","FileStore","options","_root","root","_createDirs","key","promises","readFile","_getFilePath","data","slice","JSON","parse","toString","code","SyntaxError","value","filePath","_set","mkdirSync","dirname","recursive","content","concat","_JSON$stringify","stringify","writeFile","_removeDirs","join","i","sync","module","exports"],"sources":["/Users/hozaifa/Documents/Uni App Github/node_modules/@react-native-community/cli-plugin-metro/node_modules/metro-cache/src/stores/FileStore.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n *\n */\n\"use strict\";\n\nconst fs = require(\"fs\");\n\nconst path = require(\"path\");\n\nconst rimraf = require(\"rimraf\");\n\nconst NULL_BYTE = 0x00;\nconst NULL_BYTE_BUFFER = Buffer.from([NULL_BYTE]);\n\nclass FileStore {\n  constructor(options) {\n    this._root = options.root;\n\n    this._createDirs();\n  }\n\n  async get(key) {\n    try {\n      const data = await fs.promises.readFile(this._getFilePath(key));\n\n      if (data[0] === NULL_BYTE) {\n        return data.slice(1);\n      }\n\n      return JSON.parse(data.toString(\"utf8\"));\n    } catch (err) {\n      if (err.code === \"ENOENT\" || err instanceof SyntaxError) {\n        return null;\n      }\n\n      throw err;\n    }\n  }\n\n  async set(key, value) {\n    const filePath = this._getFilePath(key);\n\n    try {\n      await this._set(filePath, value);\n    } catch (err) {\n      if (err.code === \"ENOENT\") {\n        fs.mkdirSync(path.dirname(filePath), {\n          recursive: true,\n        });\n        await this._set(filePath, value);\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  async _set(filePath, value) {\n    let content;\n\n    if (value instanceof Buffer) {\n      content = Buffer.concat([NULL_BYTE_BUFFER, value]);\n    } else {\n      var _JSON$stringify;\n\n      content =\n        (_JSON$stringify = JSON.stringify(value)) !== null &&\n        _JSON$stringify !== void 0\n          ? _JSON$stringify\n          : JSON.stringify(null);\n    }\n\n    await fs.promises.writeFile(filePath, content);\n  }\n\n  clear() {\n    this._removeDirs();\n\n    this._createDirs();\n  }\n\n  _getFilePath(key) {\n    return path.join(\n      this._root,\n      key.slice(0, 1).toString(\"hex\"),\n      key.slice(1).toString(\"hex\")\n    );\n  }\n\n  _createDirs() {\n    for (let i = 0; i < 256; i++) {\n      fs.mkdirSync(path.join(this._root, (\"0\" + i.toString(16)).slice(-2)), {\n        recursive: true,\n      });\n    }\n  }\n\n  _removeDirs() {\n    for (let i = 0; i < 256; i++) {\n      rimraf.sync(path.join(this._root, (\"0\" + i.toString(16)).slice(-2)));\n    }\n  }\n}\n\nmodule.exports = FileStore;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}