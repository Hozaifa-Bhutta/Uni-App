{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar _require = require(\"metro-hermes-compiler\"),\n    getFileLength = _require.getFileLength;\n\nvar MAGIC_NUMBER = 0xffe7c3c3;\n\nfunction getFileHeader(moduleCount) {\n  var buffer = Buffer.alloc(8);\n  buffer.writeUInt32LE(MAGIC_NUMBER, 0);\n  buffer.writeUInt32LE(moduleCount, 4);\n  return buffer;\n}\n\nfunction addModuleHeader(buffer) {\n  var fileLength = getFileLength(buffer, 0);\n  var header = Buffer.alloc(4);\n  header.writeUInt32LE(fileLength, 0);\n  return [header, buffer];\n}\n\nfunction bundleToBytecode(bundle) {\n  var buffers = [];\n\n  if (bundle.pre.length) {\n    buffers.push.apply(buffers, _toConsumableArray(bundle.pre));\n  }\n\n  var modules = [];\n  var sortedModules = bundle.modules.slice().sort(function (a, b) {\n    return a[0] - b[0];\n  });\n\n  for (var _iterator = _createForOfIteratorHelperLoose(sortedModules), _step; !(_step = _iterator()).done;) {\n    var _ref = _step.value;\n\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var id = _ref2[0];\n    var bytecodeBundle = _ref2[1];\n    buffers.push.apply(buffers, _toConsumableArray(bytecodeBundle));\n    modules.push([id, bytecodeBundle[bytecodeBundle.length - 1].length]);\n  }\n\n  if (bundle.post.length) {\n    buffers.push.apply(buffers, _toConsumableArray(bundle.post));\n  }\n\n  return {\n    bytecode: Buffer.concat([getFileHeader(buffers.length)].concat(_toConsumableArray(buffers.flatMap(addModuleHeader)))),\n    metadata: {\n      pre: bundle.pre ? bundle.pre.length : 0,\n      post: bundle.post.length,\n      modules: modules\n    }\n  };\n}\n\nmodule.exports = bundleToBytecode;\nmodule.exports.MAGIC_NUMBER = MAGIC_NUMBER;","map":{"version":3,"names":["require","getFileLength","MAGIC_NUMBER","getFileHeader","moduleCount","buffer","Buffer","alloc","writeUInt32LE","addModuleHeader","fileLength","header","bundleToBytecode","bundle","buffers","pre","length","push","modules","sortedModules","slice","sort","a","b","id","bytecodeBundle","post","bytecode","concat","flatMap","metadata","module","exports"],"sources":["/Users/hozaifa/Documents/Uni App Github/node_modules/@react-native-community/cli-plugin-metro/node_modules/metro/src/lib/bundleToBytecode.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n * @format\n */\n\"use strict\";\n\nconst { getFileLength } = require(\"metro-hermes-compiler\"); // The magic number is used as a header for bytecode.\n// It represents a Metro tunnel in binary.\n//\n// 11111111\n// 11100111\n// 11000011\n// 11000011\n\nconst MAGIC_NUMBER = 0xffe7c3c3;\n\nfunction getFileHeader(moduleCount) {\n  const buffer = Buffer.alloc(8);\n  buffer.writeUInt32LE(MAGIC_NUMBER, 0);\n  buffer.writeUInt32LE(moduleCount, 4);\n  return buffer;\n}\n\nfunction addModuleHeader(buffer) {\n  const fileLength = getFileLength(buffer, 0);\n  const header = Buffer.alloc(4);\n  header.writeUInt32LE(fileLength, 0);\n  return [header, buffer];\n}\n/**\n * A bytecode bundle has the following format:\n *\n * 4 bytes MAGIC_NUMBER\n * 4 bytes Module count\n * 4 bytes Module length N + N bytes\n * ...\n *\n */\n\nfunction bundleToBytecode(bundle) {\n  const buffers = [];\n\n  if (bundle.pre.length) {\n    buffers.push(...bundle.pre);\n  }\n\n  const modules = [];\n  const sortedModules = bundle.modules\n    .slice() // In a JS bundle, the order of modules needs to be deterministic for source\n    // maps to work. This constraint is not necessary for bytecode bundles but\n    // is kept for consistency.\n    .sort((a, b) => a[0] - b[0]);\n\n  for (const [id, bytecodeBundle] of sortedModules) {\n    buffers.push(...bytecodeBundle); // Use the size of the last item in `bytecodeBundle` which is always\n    // the actual module without headers.\n\n    modules.push([id, bytecodeBundle[bytecodeBundle.length - 1].length]);\n  }\n\n  if (bundle.post.length) {\n    buffers.push(...bundle.post);\n  }\n\n  return {\n    bytecode: Buffer.concat([\n      getFileHeader(buffers.length),\n      ...buffers.flatMap(addModuleHeader),\n    ]),\n    metadata: {\n      pre: bundle.pre ? bundle.pre.length : 0,\n      post: bundle.post.length,\n      modules,\n    },\n  };\n}\n\nmodule.exports = bundleToBytecode;\nmodule.exports.MAGIC_NUMBER = MAGIC_NUMBER;\n"],"mappings":"AASA;;;;;;;;;;;;AAEA,eAA0BA,OAAO,CAAC,uBAAD,CAAjC;AAAA,IAAQC,aAAR,YAAQA,aAAR;;AAQA,IAAMC,YAAY,GAAG,UAArB;;AAEA,SAASC,aAAT,CAAuBC,WAAvB,EAAoC;EAClC,IAAMC,MAAM,GAAGC,MAAM,CAACC,KAAP,CAAa,CAAb,CAAf;EACAF,MAAM,CAACG,aAAP,CAAqBN,YAArB,EAAmC,CAAnC;EACAG,MAAM,CAACG,aAAP,CAAqBJ,WAArB,EAAkC,CAAlC;EACA,OAAOC,MAAP;AACD;;AAED,SAASI,eAAT,CAAyBJ,MAAzB,EAAiC;EAC/B,IAAMK,UAAU,GAAGT,aAAa,CAACI,MAAD,EAAS,CAAT,CAAhC;EACA,IAAMM,MAAM,GAAGL,MAAM,CAACC,KAAP,CAAa,CAAb,CAAf;EACAI,MAAM,CAACH,aAAP,CAAqBE,UAArB,EAAiC,CAAjC;EACA,OAAO,CAACC,MAAD,EAASN,MAAT,CAAP;AACD;;AAWD,SAASO,gBAAT,CAA0BC,MAA1B,EAAkC;EAChC,IAAMC,OAAO,GAAG,EAAhB;;EAEA,IAAID,MAAM,CAACE,GAAP,CAAWC,MAAf,EAAuB;IACrBF,OAAO,CAACG,IAAR,OAAAH,OAAO,qBAASD,MAAM,CAACE,GAAhB,EAAP;EACD;;EAED,IAAMG,OAAO,GAAG,EAAhB;EACA,IAAMC,aAAa,GAAGN,MAAM,CAACK,OAAP,CACnBE,KADmB,GAInBC,IAJmB,CAId,UAACC,CAAD,EAAIC,CAAJ;IAAA,OAAUD,CAAC,CAAC,CAAD,CAAD,GAAOC,CAAC,CAAC,CAAD,CAAlB;EAAA,CAJc,CAAtB;;EAMA,qDAAmCJ,aAAnC,wCAAkD;IAAA;;IAAA;;IAAA,IAAtCK,EAAsC;IAAA,IAAlCC,cAAkC;IAChDX,OAAO,CAACG,IAAR,OAAAH,OAAO,qBAASW,cAAT,EAAP;IAGAP,OAAO,CAACD,IAAR,CAAa,CAACO,EAAD,EAAKC,cAAc,CAACA,cAAc,CAACT,MAAf,GAAwB,CAAzB,CAAd,CAA0CA,MAA/C,CAAb;EACD;;EAED,IAAIH,MAAM,CAACa,IAAP,CAAYV,MAAhB,EAAwB;IACtBF,OAAO,CAACG,IAAR,OAAAH,OAAO,qBAASD,MAAM,CAACa,IAAhB,EAAP;EACD;;EAED,OAAO;IACLC,QAAQ,EAAErB,MAAM,CAACsB,MAAP,EACRzB,aAAa,CAACW,OAAO,CAACE,MAAT,CADL,4BAELF,OAAO,CAACe,OAAR,CAAgBpB,eAAhB,CAFK,GADL;IAKLqB,QAAQ,EAAE;MACRf,GAAG,EAAEF,MAAM,CAACE,GAAP,GAAaF,MAAM,CAACE,GAAP,CAAWC,MAAxB,GAAiC,CAD9B;MAERU,IAAI,EAAEb,MAAM,CAACa,IAAP,CAAYV,MAFV;MAGRE,OAAO,EAAPA;IAHQ;EALL,CAAP;AAWD;;AAEDa,MAAM,CAACC,OAAP,GAAiBpB,gBAAjB;AACAmB,MAAM,CAACC,OAAP,CAAe9B,YAAf,GAA8BA,YAA9B"},"metadata":{},"sourceType":"script"}