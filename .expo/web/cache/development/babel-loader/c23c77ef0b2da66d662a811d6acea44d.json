{"ast":null,"code":"var fs = require('graceful-fs');\n\nvar ncp = require(\"../copy/ncp\");\n\nvar path = require('path');\n\nvar remove = require(\"../remove\").remove;\n\nvar mkdirp = require(\"../mkdirs\").mkdirs;\n\nfunction mv(source, dest, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n\n  var shouldMkdirp = 'mkdirp' in options ? options.mkdirp : true;\n  var clobber = 'clobber' in options ? options.clobber : false;\n  var limit = options.limit || 16;\n\n  if (shouldMkdirp) {\n    mkdirs();\n  } else {\n    doRename();\n  }\n\n  function mkdirs() {\n    mkdirp(path.dirname(dest), function (err) {\n      if (err) return callback(err);\n      doRename();\n    });\n  }\n\n  function doRename() {\n    if (clobber) {\n      fs.rename(source, dest, function (err) {\n        if (!err) return callback();\n\n        if (err.code === 'ENOTEMPTY' || err.code === 'EEXIST') {\n          remove(dest, function (err) {\n            if (err) return callback(err);\n            options.clobber = false;\n            mv(source, dest, options, callback);\n          });\n          return;\n        }\n\n        if (err.code === 'EPERM') {\n          setTimeout(function () {\n            remove(dest, function (err) {\n              if (err) return callback(err);\n              options.clobber = false;\n              mv(source, dest, options, callback);\n            });\n          }, 200);\n          return;\n        }\n\n        if (err.code !== 'EXDEV') return callback(err);\n        moveAcrossDevice(source, dest, clobber, limit, callback);\n      });\n    } else {\n      fs.link(source, dest, function (err) {\n        if (err) {\n          if (err.code === 'EXDEV' || err.code === 'EISDIR' || err.code === 'EPERM') {\n            moveAcrossDevice(source, dest, clobber, limit, callback);\n            return;\n          }\n\n          callback(err);\n          return;\n        }\n\n        fs.unlink(source, callback);\n      });\n    }\n  }\n}\n\nfunction moveAcrossDevice(source, dest, clobber, limit, callback) {\n  fs.stat(source, function (err, stat) {\n    if (err) {\n      callback(err);\n      return;\n    }\n\n    if (stat.isDirectory()) {\n      moveDirAcrossDevice(source, dest, clobber, limit, callback);\n    } else {\n      moveFileAcrossDevice(source, dest, clobber, limit, callback);\n    }\n  });\n}\n\nfunction moveFileAcrossDevice(source, dest, clobber, limit, callback) {\n  var outFlags = clobber ? 'w' : 'wx';\n  var ins = fs.createReadStream(source);\n  var outs = fs.createWriteStream(dest, {\n    flags: outFlags\n  });\n  ins.on('error', function (err) {\n    ins.destroy();\n    outs.destroy();\n    outs.removeListener('close', onClose);\n    fs.unlink(dest, function () {\n      if (err.code === 'EISDIR' || err.code === 'EPERM') {\n        moveDirAcrossDevice(source, dest, clobber, limit, callback);\n      } else {\n        callback(err);\n      }\n    });\n  });\n  outs.on('error', function (err) {\n    ins.destroy();\n    outs.destroy();\n    outs.removeListener('close', onClose);\n    callback(err);\n  });\n  outs.once('close', onClose);\n  ins.pipe(outs);\n\n  function onClose() {\n    fs.unlink(source, callback);\n  }\n}\n\nfunction moveDirAcrossDevice(source, dest, clobber, limit, callback) {\n  var options = {\n    stopOnErr: true,\n    clobber: false,\n    limit: limit\n  };\n\n  function startNcp() {\n    ncp(source, dest, options, function (errList) {\n      if (errList) return callback(errList[0]);\n      remove(source, callback);\n    });\n  }\n\n  if (clobber) {\n    remove(dest, function (err) {\n      if (err) return callback(err);\n      startNcp();\n    });\n  } else {\n    startNcp();\n  }\n}\n\nmodule.exports = {\n  move: mv\n};","map":{"version":3,"names":["fs","require","ncp","path","remove","mkdirp","mkdirs","mv","source","dest","options","callback","shouldMkdirp","clobber","limit","doRename","dirname","err","rename","code","setTimeout","moveAcrossDevice","link","unlink","stat","isDirectory","moveDirAcrossDevice","moveFileAcrossDevice","outFlags","ins","createReadStream","outs","createWriteStream","flags","on","destroy","removeListener","onClose","once","pipe","stopOnErr","startNcp","errList","module","exports","move"],"sources":["/Users/hozaifa/Documents/Uni App Github/node_modules/@react-native-community/cli-plugin-metro/node_modules/fs-extra/lib/move/index.js"],"sourcesContent":["// most of this code was written by Andrew Kelley\n// licensed under the BSD license: see\n// https://github.com/andrewrk/node-mv/blob/master/package.json\n\n// this needs a cleanup\n\nvar fs = require('graceful-fs')\nvar ncp = require('../copy/ncp')\nvar path = require('path')\nvar remove = require('../remove').remove\nvar mkdirp = require('../mkdirs').mkdirs\n\nfunction mv (source, dest, options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  var shouldMkdirp = ('mkdirp' in options) ? options.mkdirp : true\n  var clobber = ('clobber' in options) ? options.clobber : false\n\n  var limit = options.limit || 16\n\n  if (shouldMkdirp) {\n    mkdirs()\n  } else {\n    doRename()\n  }\n\n  function mkdirs () {\n    mkdirp(path.dirname(dest), function (err) {\n      if (err) return callback(err)\n      doRename()\n    })\n  }\n\n  function doRename () {\n    if (clobber) {\n      fs.rename(source, dest, function (err) {\n        if (!err) return callback()\n\n        if (err.code === 'ENOTEMPTY' || err.code === 'EEXIST') {\n          remove(dest, function (err) {\n            if (err) return callback(err)\n            options.clobber = false // just clobbered it, no need to do it again\n            mv(source, dest, options, callback)\n          })\n          return\n        }\n\n        // weird Windows shit\n        if (err.code === 'EPERM') {\n          setTimeout(function () {\n            remove(dest, function (err) {\n              if (err) return callback(err)\n              options.clobber = false\n              mv(source, dest, options, callback)\n            })\n          }, 200)\n          return\n        }\n\n        if (err.code !== 'EXDEV') return callback(err)\n        moveAcrossDevice(source, dest, clobber, limit, callback)\n      })\n    } else {\n      fs.link(source, dest, function (err) {\n        if (err) {\n          if (err.code === 'EXDEV' || err.code === 'EISDIR' || err.code === 'EPERM') {\n            moveAcrossDevice(source, dest, clobber, limit, callback)\n            return\n          }\n          callback(err)\n          return\n        }\n        fs.unlink(source, callback)\n      })\n    }\n  }\n}\n\nfunction moveAcrossDevice (source, dest, clobber, limit, callback) {\n  fs.stat(source, function (err, stat) {\n    if (err) {\n      callback(err)\n      return\n    }\n\n    if (stat.isDirectory()) {\n      moveDirAcrossDevice(source, dest, clobber, limit, callback)\n    } else {\n      moveFileAcrossDevice(source, dest, clobber, limit, callback)\n    }\n  })\n}\n\nfunction moveFileAcrossDevice (source, dest, clobber, limit, callback) {\n  var outFlags = clobber ? 'w' : 'wx'\n  var ins = fs.createReadStream(source)\n  var outs = fs.createWriteStream(dest, {flags: outFlags})\n\n  ins.on('error', function (err) {\n    ins.destroy()\n    outs.destroy()\n    outs.removeListener('close', onClose)\n\n    // may want to create a directory but `out` line above\n    // creates an empty file for us: See #108\n    // don't care about error here\n    fs.unlink(dest, function () {\n      // note: `err` here is from the input stream errror\n      if (err.code === 'EISDIR' || err.code === 'EPERM') {\n        moveDirAcrossDevice(source, dest, clobber, limit, callback)\n      } else {\n        callback(err)\n      }\n    })\n  })\n\n  outs.on('error', function (err) {\n    ins.destroy()\n    outs.destroy()\n    outs.removeListener('close', onClose)\n    callback(err)\n  })\n\n  outs.once('close', onClose)\n  ins.pipe(outs)\n\n  function onClose () {\n    fs.unlink(source, callback)\n  }\n}\n\nfunction moveDirAcrossDevice (source, dest, clobber, limit, callback) {\n  var options = {\n    stopOnErr: true,\n    clobber: false,\n    limit: limit\n  }\n\n  function startNcp () {\n    ncp(source, dest, options, function (errList) {\n      if (errList) return callback(errList[0])\n      remove(source, callback)\n    })\n  }\n\n  if (clobber) {\n    remove(dest, function (err) {\n      if (err) return callback(err)\n      startNcp()\n    })\n  } else {\n    startNcp()\n  }\n}\n\nmodule.exports = {\n  move: mv\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}