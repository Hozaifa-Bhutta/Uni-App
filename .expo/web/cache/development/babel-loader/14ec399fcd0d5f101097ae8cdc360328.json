{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = findPodfilePath;\n\nfunction _cliTools() {\n  var data = require(\"@react-native-community/cli-tools\");\n\n  _cliTools = function _cliTools() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  var data = _interopRequireDefault(require(\"path\"));\n\n  _path = function _path() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _findAllPodfilePaths = _interopRequireDefault(require(\"./findAllPodfilePaths\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar TEST_PROJECTS = /test|example|sample/i;\nvar IOS_BASE = 'ios';\n\nfunction findPodfilePath(cwd) {\n  var podfiles = (0, _findAllPodfilePaths.default)(cwd).filter(function (project) {\n    return _path().default.dirname(project) === IOS_BASE || !TEST_PROJECTS.test(project);\n  }).sort(function (project) {\n    return _path().default.dirname(project) === IOS_BASE ? -1 : 1;\n  });\n\n  if (podfiles.length > 0) {\n    if (podfiles.length > 1) {\n      _cliTools().logger.warn((0, _cliTools().inlineString)(\"\\n          Multiple Podfiles were found: \" + podfiles + \". Choosing \" + podfiles[0] + \" automatically.\\n          If you would like to select a different one, you can configure it via \\\"project.ios.sourceDir\\\".\\n          You can learn more about it here: https://github.com/react-native-community/cli/blob/master/docs/configuration.md\\n        \"));\n    }\n\n    return _path().default.join(cwd, podfiles[0]);\n  }\n\n  return null;\n}","map":{"version":3,"sources":["../../src/config/findPodfilePath.ts"],"names":["TEST_PROJECTS","IOS_BASE","podfiles","project","path","logger"],"mappings":";;;;;;;AAQA,SAAA,SAAA,GAAA;EAAA,IAAA,IAAA,GAAA,OAAA,CAAA,mCAAA,CAAA;;EAAA,SAAA,GAAA,qBAAA;IAAA,OAAA,IAAA;EAAA,CAAA;;EAAA,OAAA,IAAA;AAAA;;AACA,SAAA,KAAA,GAAA;EAAA,IAAA,IAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;;EAAA,KAAA,GAAA,iBAAA;IAAA,OAAA,IAAA;EAAA,CAAA;;EAAA,OAAA,IAAA;AAAA;;AACA,IAAA,oBAAA,GAAA,sBAAA,CAAA,OAAA,yBAAA,CAAA;;;;;;;;AAGA,IAAMA,aAAa,GAAnB,sBAAA;AAGA,IAAMC,QAAQ,GAAd,KAAA;;AAEe,SAAA,eAAA,CAAA,GAAA,EAAsC;EACnD,IAAMC,QAAQ,GAAG,CAAA,GAAA,oBAAA,CAAA,OAAA,EAAA,GAAA,EAAA,MAAA,CAMZC,UAAAA,OAAD;IAAA,OACEC,KAAAA,GAAAA,OAAAA,CAAAA,OAAAA,CAAAA,OAAAA,MAAAA,QAAAA,IAAsC,CAACJ,aAAa,CAAbA,IAAAA,CAP5B,OAO4BA,CADzC;EAAA,CANa,EAAA,IAAA,CAYRG,UAAAA,OAAD;IAAA,OAAcC,KAAAA,GAAAA,OAAAA,CAAAA,OAAAA,CAAAA,OAAAA,MAAAA,QAAAA,GAAqC,CAArCA,CAAAA,GAZtB,CAYQ;EAAA,CAZS,CAAjB;;EAcA,IAAIF,QAAQ,CAARA,MAAAA,GAAJ,CAAA,EAAyB;IACvB,IAAIA,QAAQ,CAARA,MAAAA,GAAJ,CAAA,EAAyB;MACvBG,SAAAA,GAAAA,MAAAA,CAAAA,IAAAA,CACE,CAAA,GAAA,SAAA,GAAA,YAAA,iDACkCH,QADlC,mBACwDA,QAAQ,CAAA,CAAA,CADhE,wQADFG;IAOD;;IACD,OAAOD,KAAAA,GAAAA,OAAAA,CAAAA,IAAAA,CAAAA,GAAAA,EAAeF,QAAQ,CAA9B,CAA8B,CAAvBE,CAAP;EACD;;EAED,OAAA,IAAA;AACD","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport {inlineString, logger} from '@react-native-community/cli-tools';\nimport path from 'path';\nimport findAllPodfilePaths from './findAllPodfilePaths';\n\n// Regexp matching all test projects\nconst TEST_PROJECTS = /test|example|sample/i;\n\n// Base iOS folder\nconst IOS_BASE = 'ios';\n\nexport default function findPodfilePath(cwd: string) {\n  const podfiles = findAllPodfilePaths(cwd)\n    /**\n     * Then, we will run a simple test to rule out most example projects,\n     * unless they are located in a `ios` folder\n     */\n    .filter(\n      (project) =>\n        path.dirname(project) === IOS_BASE || !TEST_PROJECTS.test(project),\n    )\n    /**\n     * Podfile from `ios` folder will be picked up as a first one.\n     */\n    .sort((project) => (path.dirname(project) === IOS_BASE ? -1 : 1));\n\n  if (podfiles.length > 0) {\n    if (podfiles.length > 1) {\n      logger.warn(\n        inlineString(`\n          Multiple Podfiles were found: ${podfiles}. Choosing ${podfiles[0]} automatically.\n          If you would like to select a different one, you can configure it via \"project.ios.sourceDir\".\n          You can learn more about it here: https://github.com/react-native-community/cli/blob/master/docs/configuration.md\n        `),\n      );\n    }\n    return path.join(cwd, podfiles[0]);\n  }\n\n  return null;\n}\n"]},"metadata":{},"sourceType":"script"}