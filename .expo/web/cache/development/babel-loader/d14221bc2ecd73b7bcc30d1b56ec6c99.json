{"ast":null,"code":"\"use strict\";\n\nvar invariant = require(\"invariant\");\n\nvar _require = require(\"metro-transform-plugins\"),\n    addParamsToDefineCall = _require.addParamsToDefineCall;\n\nvar path = require(\"path\");\n\nfunction wrapModule(module, options) {\n  var output = getJsOutput(module);\n\n  if (output.type.startsWith(\"js/script\")) {\n    return output.data.code;\n  }\n\n  var moduleId = options.createModuleId(module.path);\n  var params = [moduleId, Array.from(module.dependencies.values()).map(function (dependency) {\n    return options.createModuleId(dependency.absolutePath);\n  })];\n\n  if (options.dev) {\n    params.push(path.relative(options.projectRoot, module.path));\n  }\n\n  return addParamsToDefineCall.apply(void 0, [output.data.code].concat(params));\n}\n\nfunction getJsOutput(module) {\n  var _module$path, _module$path2;\n\n  var jsModules = module.output.filter(function (_ref) {\n    var type = _ref.type;\n    return type.startsWith(\"js/\");\n  });\n  invariant(jsModules.length === 1, \"Modules must have exactly one JS output, but \" + ((_module$path = module.path) !== null && _module$path !== void 0 ? _module$path : \"unknown module\") + \" has \" + jsModules.length + \" JS outputs.\");\n  var jsOutput = jsModules[0];\n  invariant(Number.isFinite(jsOutput.data.lineCount), \"JS output must populate lineCount, but \" + ((_module$path2 = module.path) !== null && _module$path2 !== void 0 ? _module$path2 : \"unknown module\") + \" has \" + jsOutput.type + \" output with lineCount '\" + jsOutput.data.lineCount + \"'\");\n  return jsOutput;\n}\n\nfunction isJsModule(module) {\n  return module.output.filter(isJsOutput).length > 0;\n}\n\nfunction isJsOutput(output) {\n  return output.type.startsWith(\"js/\");\n}\n\nmodule.exports = {\n  getJsOutput: getJsOutput,\n  isJsModule: isJsModule,\n  wrapModule: wrapModule\n};","map":{"version":3,"names":["invariant","require","addParamsToDefineCall","path","wrapModule","module","options","output","getJsOutput","type","startsWith","data","code","moduleId","createModuleId","params","Array","from","dependencies","values","map","dependency","absolutePath","dev","push","relative","projectRoot","_module$path","_module$path2","jsModules","filter","length","jsOutput","Number","isFinite","lineCount","isJsModule","isJsOutput","exports"],"sources":["/Users/hozaifa/Documents/Uni App Github/node_modules/@react-native-community/cli-plugin-metro/node_modules/metro/src/DeltaBundler/Serializers/helpers/js.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n * @format\n */\n\"use strict\";\n\nconst invariant = require(\"invariant\");\n\nconst { addParamsToDefineCall } = require(\"metro-transform-plugins\");\n\nconst path = require(\"path\");\n\nfunction wrapModule(module, options) {\n  const output = getJsOutput(module);\n\n  if (output.type.startsWith(\"js/script\")) {\n    return output.data.code;\n  }\n\n  const moduleId = options.createModuleId(module.path);\n  const params = [\n    moduleId,\n    Array.from(module.dependencies.values()).map((dependency) =>\n      options.createModuleId(dependency.absolutePath)\n    ),\n  ];\n\n  if (options.dev) {\n    // Add the relative path of the module to make debugging easier.\n    // This is mapped to `module.verboseName` in `require.js`.\n    params.push(path.relative(options.projectRoot, module.path));\n  }\n\n  return addParamsToDefineCall(output.data.code, ...params);\n}\n\nfunction getJsOutput(module) {\n  var _module$path, _module$path2;\n\n  const jsModules = module.output.filter(({ type }) => type.startsWith(\"js/\"));\n  invariant(\n    jsModules.length === 1,\n    `Modules must have exactly one JS output, but ${\n      (_module$path = module.path) !== null && _module$path !== void 0\n        ? _module$path\n        : \"unknown module\"\n    } has ${jsModules.length} JS outputs.`\n  );\n  const jsOutput = jsModules[0];\n  invariant(\n    Number.isFinite(jsOutput.data.lineCount),\n    `JS output must populate lineCount, but ${\n      (_module$path2 = module.path) !== null && _module$path2 !== void 0\n        ? _module$path2\n        : \"unknown module\"\n    } has ${jsOutput.type} output with lineCount '${jsOutput.data.lineCount}'`\n  );\n  return jsOutput;\n}\n\nfunction isJsModule(module) {\n  return module.output.filter(isJsOutput).length > 0;\n}\n\nfunction isJsOutput(output) {\n  return output.type.startsWith(\"js/\");\n}\n\nmodule.exports = {\n  getJsOutput,\n  isJsModule,\n  wrapModule,\n};\n"],"mappings":"AASA;;AAEA,IAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AAEA,eAAkCA,OAAO,CAAC,yBAAD,CAAzC;AAAA,IAAQC,qBAAR,YAAQA,qBAAR;;AAEA,IAAMC,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AAEA,SAASG,UAAT,CAAoBC,MAApB,EAA4BC,OAA5B,EAAqC;EACnC,IAAMC,MAAM,GAAGC,WAAW,CAACH,MAAD,CAA1B;;EAEA,IAAIE,MAAM,CAACE,IAAP,CAAYC,UAAZ,CAAuB,WAAvB,CAAJ,EAAyC;IACvC,OAAOH,MAAM,CAACI,IAAP,CAAYC,IAAnB;EACD;;EAED,IAAMC,QAAQ,GAAGP,OAAO,CAACQ,cAAR,CAAuBT,MAAM,CAACF,IAA9B,CAAjB;EACA,IAAMY,MAAM,GAAG,CACbF,QADa,EAEbG,KAAK,CAACC,IAAN,CAAWZ,MAAM,CAACa,YAAP,CAAoBC,MAApB,EAAX,EAAyCC,GAAzC,CAA6C,UAACC,UAAD;IAAA,OAC3Cf,OAAO,CAACQ,cAAR,CAAuBO,UAAU,CAACC,YAAlC,CAD2C;EAAA,CAA7C,CAFa,CAAf;;EAOA,IAAIhB,OAAO,CAACiB,GAAZ,EAAiB;IAGfR,MAAM,CAACS,IAAP,CAAYrB,IAAI,CAACsB,QAAL,CAAcnB,OAAO,CAACoB,WAAtB,EAAmCrB,MAAM,CAACF,IAA1C,CAAZ;EACD;;EAED,OAAOD,qBAAqB,MAArB,UAAsBK,MAAM,CAACI,IAAP,CAAYC,IAAlC,SAA2CG,MAA3C,EAAP;AACD;;AAED,SAASP,WAAT,CAAqBH,MAArB,EAA6B;EAC3B,IAAIsB,YAAJ,EAAkBC,aAAlB;;EAEA,IAAMC,SAAS,GAAGxB,MAAM,CAACE,MAAP,CAAcuB,MAAd,CAAqB;IAAA,IAAGrB,IAAH,QAAGA,IAAH;IAAA,OAAcA,IAAI,CAACC,UAAL,CAAgB,KAAhB,CAAd;EAAA,CAArB,CAAlB;EACAV,SAAS,CACP6B,SAAS,CAACE,MAAV,KAAqB,CADd,qDAGL,CAACJ,YAAY,GAAGtB,MAAM,CAACF,IAAvB,MAAiC,IAAjC,IAAyCwB,YAAY,KAAK,KAAK,CAA/D,GACIA,YADJ,GAEI,gBALC,cAMCE,SAAS,CAACE,MANX,kBAAT;EAQA,IAAMC,QAAQ,GAAGH,SAAS,CAAC,CAAD,CAA1B;EACA7B,SAAS,CACPiC,MAAM,CAACC,QAAP,CAAgBF,QAAQ,CAACrB,IAAT,CAAcwB,SAA9B,CADO,+CAGL,CAACP,aAAa,GAAGvB,MAAM,CAACF,IAAxB,MAAkC,IAAlC,IAA0CyB,aAAa,KAAK,KAAK,CAAjE,GACIA,aADJ,GAEI,gBALC,cAMCI,QAAQ,CAACvB,IANV,gCAMyCuB,QAAQ,CAACrB,IAAT,CAAcwB,SANvD,OAAT;EAQA,OAAOH,QAAP;AACD;;AAED,SAASI,UAAT,CAAoB/B,MAApB,EAA4B;EAC1B,OAAOA,MAAM,CAACE,MAAP,CAAcuB,MAAd,CAAqBO,UAArB,EAAiCN,MAAjC,GAA0C,CAAjD;AACD;;AAED,SAASM,UAAT,CAAoB9B,MAApB,EAA4B;EAC1B,OAAOA,MAAM,CAACE,IAAP,CAAYC,UAAZ,CAAuB,KAAvB,CAAP;AACD;;AAEDL,MAAM,CAACiC,OAAP,GAAiB;EACf9B,WAAW,EAAXA,WADe;EAEf4B,UAAU,EAAVA,UAFe;EAGfhC,UAAU,EAAVA;AAHe,CAAjB"},"metadata":{},"sourceType":"script"}