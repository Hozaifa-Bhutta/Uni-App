{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar invariant = require(\"invariant\");\n\nvar _require = require(\"metro-hermes-compiler\"),\n    compile = _require.compile;\n\nvar path = require(\"path\");\n\nfunction wrapModule(module, options) {\n  var output = getBytecodeOutput(module);\n\n  if (output.type.startsWith(\"bytecode/script\")) {\n    return [output.data.bytecode];\n  }\n\n  var params = [options.createModuleId(module.path), \"[\" + Array.from(module.dependencies.values()).map(function (dependency) {\n    return options.createModuleId(dependency.absolutePath);\n  }).join(\",\") + \"]\"];\n\n  if (options.dev) {\n    params.push(JSON.stringify(path.relative(options.projectRoot, module.path)));\n  }\n\n  var headerCode = \"globalThis.$$METRO_D=[\" + params.join(\",\") + \"];\";\n  return [compile(headerCode, {\n    sourceURL: module.path + \"-virtual.js\"\n  }).bytecode, output.data.bytecode];\n}\n\nfunction getBytecodeOutput(module) {\n  var output = module.output.filter(function (_ref) {\n    var type = _ref.type;\n    return type.startsWith(\"bytecode/\");\n  }).map(function (output) {\n    return output.data.bytecode instanceof Buffer ? output : _objectSpread(_objectSpread({}, output), {}, {\n      data: _objectSpread(_objectSpread({}, output.data), {}, {\n        bytecode: Buffer.from(output.data.bytecode.data)\n      })\n    });\n  });\n  invariant(output.length === 1, \"Modules must have exactly one bytecode output, but \" + module.path + \" has \" + output.length + \" bytecode outputs.\");\n  return output[0];\n}\n\nfunction isBytecodeModule(module) {\n  return module.output.filter(function (_ref2) {\n    var type = _ref2.type;\n    return type.startsWith(\"bytecode/\");\n  }).length > 0;\n}\n\nmodule.exports = {\n  getBytecodeOutput: getBytecodeOutput,\n  isBytecodeModule: isBytecodeModule,\n  wrapModule: wrapModule\n};","map":{"version":3,"names":["invariant","require","compile","path","wrapModule","module","options","output","getBytecodeOutput","type","startsWith","data","bytecode","params","createModuleId","Array","from","dependencies","values","map","dependency","absolutePath","join","dev","push","JSON","stringify","relative","projectRoot","headerCode","sourceURL","filter","Buffer","length","isBytecodeModule","exports"],"sources":["/Users/hozaifa/Documents/Uni App Github/node_modules/@react-native-community/cli-plugin-metro/node_modules/metro/src/DeltaBundler/Serializers/helpers/bytecode.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n * @format\n */\n\"use strict\";\n\nconst invariant = require(\"invariant\");\n\nconst { compile } = require(\"metro-hermes-compiler\");\n\nconst path = require(\"path\");\n\nfunction wrapModule(module, options) {\n  const output = getBytecodeOutput(module);\n\n  if (output.type.startsWith(\"bytecode/script\")) {\n    return [output.data.bytecode];\n  }\n\n  const params = [\n    options.createModuleId(module.path),\n    \"[\" +\n      Array.from(module.dependencies.values())\n        .map((dependency) => options.createModuleId(dependency.absolutePath))\n        .join(\",\") +\n      \"]\",\n  ];\n\n  if (options.dev) {\n    // Add the relative path of the module to make debugging easier.\n    // This is mapped to `module.verboseName` in `require.js`.\n    params.push(\n      JSON.stringify(path.relative(options.projectRoot, module.path))\n    );\n  }\n\n  const headerCode = `globalThis.$$METRO_D=[${params.join(\",\")}];`;\n  return [\n    compile(headerCode, {\n      sourceURL: module.path + \"-virtual.js\",\n    }).bytecode,\n    output.data.bytecode,\n  ];\n}\n\nfunction getBytecodeOutput(module) {\n  const output = module.output\n    .filter(({ type }) => type.startsWith(\"bytecode/\"))\n    .map((output) =>\n      output.data.bytecode instanceof Buffer\n        ? output // Re-create buffers after losing the Buffer instance when sending data over workers.\n        : {\n            ...output,\n            data: {\n              ...output.data,\n              bytecode: Buffer.from(output.data.bytecode.data),\n            },\n          }\n    );\n  invariant(\n    output.length === 1,\n    `Modules must have exactly one bytecode output, but ${module.path} has ${output.length} bytecode outputs.`\n  );\n  return output[0];\n}\n\nfunction isBytecodeModule(module) {\n  return (\n    module.output.filter(({ type }) => type.startsWith(\"bytecode/\")).length > 0\n  );\n}\n\nmodule.exports = {\n  getBytecodeOutput,\n  isBytecodeModule,\n  wrapModule,\n};\n"],"mappings":"AASA;;;;;;;;AAEA,IAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AAEA,eAAoBA,OAAO,CAAC,uBAAD,CAA3B;AAAA,IAAQC,OAAR,YAAQA,OAAR;;AAEA,IAAMC,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AAEA,SAASG,UAAT,CAAoBC,MAApB,EAA4BC,OAA5B,EAAqC;EACnC,IAAMC,MAAM,GAAGC,iBAAiB,CAACH,MAAD,CAAhC;;EAEA,IAAIE,MAAM,CAACE,IAAP,CAAYC,UAAZ,CAAuB,iBAAvB,CAAJ,EAA+C;IAC7C,OAAO,CAACH,MAAM,CAACI,IAAP,CAAYC,QAAb,CAAP;EACD;;EAED,IAAMC,MAAM,GAAG,CACbP,OAAO,CAACQ,cAAR,CAAuBT,MAAM,CAACF,IAA9B,CADa,EAEb,MACEY,KAAK,CAACC,IAAN,CAAWX,MAAM,CAACY,YAAP,CAAoBC,MAApB,EAAX,EACGC,GADH,CACO,UAACC,UAAD;IAAA,OAAgBd,OAAO,CAACQ,cAAR,CAAuBM,UAAU,CAACC,YAAlC,CAAhB;EAAA,CADP,EAEGC,IAFH,CAEQ,GAFR,CADF,GAIE,GANW,CAAf;;EASA,IAAIhB,OAAO,CAACiB,GAAZ,EAAiB;IAGfV,MAAM,CAACW,IAAP,CACEC,IAAI,CAACC,SAAL,CAAevB,IAAI,CAACwB,QAAL,CAAcrB,OAAO,CAACsB,WAAtB,EAAmCvB,MAAM,CAACF,IAA1C,CAAf,CADF;EAGD;;EAED,IAAM0B,UAAU,8BAA4BhB,MAAM,CAACS,IAAP,CAAY,GAAZ,CAA5B,OAAhB;EACA,OAAO,CACLpB,OAAO,CAAC2B,UAAD,EAAa;IAClBC,SAAS,EAAEzB,MAAM,CAACF,IAAP,GAAc;EADP,CAAb,CAAP,CAEGS,QAHE,EAILL,MAAM,CAACI,IAAP,CAAYC,QAJP,CAAP;AAMD;;AAED,SAASJ,iBAAT,CAA2BH,MAA3B,EAAmC;EACjC,IAAME,MAAM,GAAGF,MAAM,CAACE,MAAP,CACZwB,MADY,CACL;IAAA,IAAGtB,IAAH,QAAGA,IAAH;IAAA,OAAcA,IAAI,CAACC,UAAL,CAAgB,WAAhB,CAAd;EAAA,CADK,EAEZS,GAFY,CAER,UAACZ,MAAD;IAAA,OACHA,MAAM,CAACI,IAAP,CAAYC,QAAZ,YAAgCoB,MAAhC,GACIzB,MADJ,mCAGSA,MAHT;MAIMI,IAAI,kCACCJ,MAAM,CAACI,IADR;QAEFC,QAAQ,EAAEoB,MAAM,CAAChB,IAAP,CAAYT,MAAM,CAACI,IAAP,CAAYC,QAAZ,CAAqBD,IAAjC;MAFR;IAJV,EADG;EAAA,CAFQ,CAAf;EAaAX,SAAS,CACPO,MAAM,CAAC0B,MAAP,KAAkB,CADX,0DAE+C5B,MAAM,CAACF,IAFtD,aAEkEI,MAAM,CAAC0B,MAFzE,wBAAT;EAIA,OAAO1B,MAAM,CAAC,CAAD,CAAb;AACD;;AAED,SAAS2B,gBAAT,CAA0B7B,MAA1B,EAAkC;EAChC,OACEA,MAAM,CAACE,MAAP,CAAcwB,MAAd,CAAqB;IAAA,IAAGtB,IAAH,SAAGA,IAAH;IAAA,OAAcA,IAAI,CAACC,UAAL,CAAgB,WAAhB,CAAd;EAAA,CAArB,EAAiEuB,MAAjE,GAA0E,CAD5E;AAGD;;AAED5B,MAAM,CAAC8B,OAAP,GAAiB;EACf3B,iBAAiB,EAAjBA,iBADe;EAEf0B,gBAAgB,EAAhBA,gBAFe;EAGf9B,UAAU,EAAVA;AAHe,CAAjB"},"metadata":{},"sourceType":"script"}